{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ashwin Halford\\\\Downloads\\\\shiftmanager-v6.2\\\\shiftmanager\\\\frontend\\\\src\\\\pages\\\\ManageShifts.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { format, addDays, startOfMonth, endOfMonth, addMonths, eachDayOfInterval, startOfWeek, endOfWeek, getDay } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ManageShifts() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [shifts, setShifts] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [depts, setDepts] = useState([]);\n  const [viewMonth, setViewMonth] = useState(new Date());\n  const [tab, setTab] = useState('bulk');\n  const [message, setMessage] = useState({\n    text: '',\n    type: 'success'\n  });\n\n  // Bulk assign form\n  const [bulk, setBulk] = useState({\n    name: '',\n    start_time: '07:00',\n    end_time: '15:00',\n    department: 'CS',\n    notes: '',\n    status: 'draft',\n    selected_users: [],\n    date_from: '',\n    date_to: '',\n    days_of_week: [1, 2, 3, 4, 5]\n  });\n  const [saving, setSaving] = useState(false);\n\n  // Template form\n  const [tplForm, setTplForm] = useState({\n    name: '',\n    start_time: '07:00',\n    end_time: '15:00',\n    department: 'CS',\n    notes: ''\n  });\n\n  // Draft management\n  const [selectedDrafts, setSelectedDrafts] = useState([]);\n  const DAYS = [{\n    v: 0,\n    l: 'Sun'\n  }, {\n    v: 1,\n    l: 'Mon'\n  }, {\n    v: 2,\n    l: 'Tue'\n  }, {\n    v: 3,\n    l: 'Wed'\n  }, {\n    v: 4,\n    l: 'Thu'\n  }, {\n    v: 5,\n    l: 'Fri'\n  }, {\n    v: 6,\n    l: 'Sat'\n  }];\n  useEffect(() => {\n    fetchAll();\n  }, [viewMonth]);\n  const fetchAll = async () => {\n    const [ur, tr, dr, depr] = await Promise.all([axios.get('/api/users'), axios.get('/api/templates'), axios.get(`/api/shifts?start=${format(startOfMonth(viewMonth), 'yyyy-MM-dd')}&end=${format(endOfMonth(viewMonth), 'yyyy-MM-dd')}`), axios.get('/api/departments')]);\n    setUsers(ur.data.filter(u => u.user_type === 'agent' && u.active !== 0));\n    setTemplates(tr.data);\n    setShifts(dr.data);\n    setDepts(depr.data.map(d => d.name).filter(n => n !== 'Management'));\n  };\n  const msg = (text, type = 'success') => {\n    setMessage({\n      text,\n      type\n    });\n    setTimeout(() => setMessage({\n      text: '',\n      type: 'success'\n    }), 4000);\n  };\n  const applyTemplate = tpl => {\n    setBulk(b => ({\n      ...b,\n      start_time: tpl.start_time,\n      end_time: tpl.end_time,\n      department: tpl.department,\n      notes: tpl.notes || '',\n      name: tpl.name\n    }));\n  };\n\n  // Generate dates from range + day filter\n  const generateDates = () => {\n    if (!bulk.date_from || !bulk.date_to) return [];\n    const days = eachDayOfInterval({\n      start: new Date(bulk.date_from + 'T00:00'),\n      end: new Date(bulk.date_to + 'T00:00')\n    });\n    return days.filter(d => bulk.days_of_week.includes(getDay(d))).map(d => format(d, 'yyyy-MM-dd'));\n  };\n  const handleBulkSubmit = async () => {\n    if (!bulk.selected_users.length) return msg('Select at least one agent', 'error');\n    const dates = generateDates();\n    if (!dates.length) return msg('No dates match your selection', 'error');\n    setSaving(true);\n    try {\n      const r = await axios.post('/api/shifts/bulk', {\n        user_ids: bulk.selected_users,\n        dates,\n        start_time: bulk.start_time,\n        end_time: bulk.end_time,\n        department: bulk.department,\n        notes: bulk.notes,\n        status: bulk.status\n      });\n      msg(`âœ“ Created ${r.data.created} shifts for ${bulk.selected_users.length} agent(s) across ${dates.length} day(s)${bulk.status === 'draft' ? ' â€” saved as draft' : ''}!`);\n      setBulk(b => ({\n        ...b,\n        selected_users: []\n      }));\n      fetchAll();\n    } catch (e) {\n      var _e$response, _e$response$data;\n      msg(((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || 'Error', 'error');\n    }\n    setSaving(false);\n  };\n  const handleSaveTemplate = async () => {\n    if (!tplForm.name) return msg('Template name required', 'error');\n    await axios.post('/api/templates', tplForm);\n    setTplForm({\n      name: '',\n      start_time: '07:00',\n      end_time: '15:00',\n      department: 'CS',\n      notes: ''\n    });\n    fetchAll();\n    msg('Template saved!');\n  };\n  const deleteTemplate = async id => {\n    if (!window.confirm('Delete this template?')) return;\n    await axios.delete(`/api/templates/${id}`);\n    fetchAll();\n  };\n  const publishSelected = async () => {\n    await axios.post('/api/shifts/publish', {\n      shift_ids: selectedDrafts\n    });\n    setSelectedDrafts([]);\n    fetchAll();\n    msg(`Published ${selectedDrafts.length} shifts!`);\n  };\n  const publishAll = async () => {\n    if (!window.confirm('Publish ALL draft shifts? Agents will be able to see them.')) return;\n    await axios.post('/api/shifts/publish-all');\n    setSelectedDrafts([]);\n    fetchAll();\n    msg('All drafts published!');\n  };\n  const deleteShift = async id => {\n    await axios.delete(`/api/shifts/${id}`);\n    fetchAll();\n  };\n  const dates = generateDates();\n  const drafts = shifts.filter(s => s.status === 'draft');\n  const published = shifts.filter(s => s.status === 'published');\n  const agentsByDept = users.reduce((acc, u) => {\n    if (!acc[u.department]) acc[u.department] = [];\n    acc[u.department].push(u);\n    return acc;\n  }, {});\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-start'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Manage Shifts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Build shifts, assign to agents, publish when ready\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), message.text && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: message.type === 'error' ? '#fef2f2' : '#d4edda',\n        border: `1px solid ${message.type === 'error' ? '#fca5a5' : '#c3e6cb'}`,\n        borderRadius: 8,\n        padding: '10px 16px',\n        marginBottom: 20,\n        color: message.type === 'error' ? '#dc2626' : '#155724',\n        fontSize: 14\n      },\n      children: message.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 24\n    }, this), drafts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#fffbeb',\n        border: '1px solid #fcd34d',\n        borderRadius: 10,\n        padding: '14px 20px',\n        marginBottom: 24,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        flexWrap: 'wrap',\n        gap: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"\\uD83D\\uDCDD \", drafts.length, \" draft shift\", drafts.length > 1 ? 's' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'var(--gray-600)',\n            fontSize: 13\n          },\n          children: \"\\u2014 agents cannot see these yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 88\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 10\n        },\n        children: [selectedDrafts.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-sm\",\n          onClick: publishSelected,\n          children: [\"Publish Selected (\", selectedDrafts.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 43\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          onClick: publishAll,\n          children: \"Publish All Drafts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 4,\n        marginBottom: 24,\n        borderBottom: '2px solid var(--gray-200)'\n      },\n      children: [{\n        id: 'bulk',\n        l: 'ðŸ“‹ Assign Shifts'\n      }, {\n        id: 'templates',\n        l: 'ðŸ—‚ Templates'\n      }, {\n        id: 'view',\n        l: 'ðŸ“… Monthly View'\n      }].map(t => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab(t.id),\n        style: {\n          padding: '10px 20px',\n          border: 'none',\n          background: 'none',\n          cursor: 'pointer',\n          fontFamily: 'inherit',\n          fontSize: 14,\n          fontWeight: 600,\n          color: tab === t.id ? 'var(--red)' : 'var(--gray-500)',\n          borderBottom: tab === t.id ? '2px solid var(--red)' : '2px solid transparent',\n          marginBottom: -2\n        },\n        children: t.l\n      }, t.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), tab === 'bulk' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fade-in\",\n      style: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 340px',\n        gap: 20,\n        alignItems: 'start'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          padding: 28\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: 17,\n            fontWeight: 700,\n            marginBottom: 20\n          },\n          children: \"Shift Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), templates.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Quick Apply from Template\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 8,\n              flexWrap: 'wrap',\n              marginTop: 6\n            },\n            children: templates.map(t => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary btn-sm\",\n              onClick: () => applyTemplate(t),\n              children: t.name\n            }, t.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 38\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: 14\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Start Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 20\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: bulk.start_time,\n              onChange: e => setBulk(b => ({\n                ...b,\n                start_time: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"End Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 20\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: bulk.end_time,\n              onChange: e => setBulk(b => ({\n                ...b,\n                end_time: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              gridColumn: '1/-1'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Department\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: bulk.department,\n              onChange: e => setBulk(b => ({\n                ...b,\n                department: e.target.value\n              })),\n              children: depts.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: d,\n                children: d\n              }, d, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              gridColumn: '1/-1'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Notes (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"e.g. Public holiday cover\",\n              value: bulk.notes,\n              onChange: e => setBulk(b => ({\n                ...b,\n                notes: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 81\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Date Range\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: 12,\n              marginTop: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: 11\n                },\n                children: \"From\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: bulk.date_from,\n                onChange: e => setBulk(b => ({\n                  ...b,\n                  date_from: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 65\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: 11\n                },\n                children: \"To\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: bulk.date_to,\n                onChange: e => setBulk(b => ({\n                  ...b,\n                  date_to: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 63\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Days of Week\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 8,\n              marginTop: 6\n            },\n            children: DAYS.map(d => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setBulk(b => ({\n                ...b,\n                days_of_week: b.days_of_week.includes(d.v) ? b.days_of_week.filter(x => x !== d.v) : [...b.days_of_week, d.v]\n              })),\n              style: {\n                padding: '6px 10px',\n                borderRadius: 6,\n                border: '1.5px solid',\n                borderColor: bulk.days_of_week.includes(d.v) ? 'var(--red)' : 'var(--gray-300)',\n                background: bulk.days_of_week.includes(d.v) ? 'var(--red)' : 'white',\n                color: bulk.days_of_week.includes(d.v) ? 'white' : 'var(--gray-700)',\n                fontSize: 12,\n                fontWeight: 600,\n                cursor: 'pointer'\n              },\n              children: d.l\n            }, d.v, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 32\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), dates.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12,\n            padding: '8px 14px',\n            background: 'var(--gray-50)',\n            borderRadius: 8,\n            fontSize: 13,\n            color: 'var(--gray-600)'\n          },\n          children: [\"\\uD83D\\uDCC5 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [dates.length, \" dates\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 18\n          }, this), \" selected (\", dates[0], \" \\u2192 \", dates[dates.length - 1], \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Save As\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 10,\n              marginTop: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setBulk(b => ({\n                ...b,\n                status: 'draft'\n              })),\n              style: {\n                flex: 1,\n                padding: '10px',\n                borderRadius: 8,\n                border: '1.5px solid',\n                borderColor: bulk.status === 'draft' ? 'var(--red)' : 'var(--gray-300)',\n                background: bulk.status === 'draft' ? '#fef2f2' : 'white',\n                fontFamily: 'inherit',\n                fontSize: 13,\n                fontWeight: 600,\n                cursor: 'pointer',\n                color: bulk.status === 'draft' ? 'var(--red)' : 'var(--gray-600)'\n              },\n              children: [\"\\uD83D\\uDCDD Draft \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: 'block',\n                  fontSize: 11,\n                  fontWeight: 400,\n                  color: 'var(--gray-500)'\n                },\n                children: \"Only you can see it\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setBulk(b => ({\n                ...b,\n                status: 'published'\n              })),\n              style: {\n                flex: 1,\n                padding: '10px',\n                borderRadius: 8,\n                border: '1.5px solid',\n                borderColor: bulk.status === 'published' ? 'var(--green)' : 'var(--gray-300)',\n                background: bulk.status === 'published' ? '#d4edda' : 'white',\n                fontFamily: 'inherit',\n                fontSize: 13,\n                fontWeight: 600,\n                cursor: 'pointer',\n                color: bulk.status === 'published' ? 'var(--green)' : 'var(--gray-600)'\n              },\n              children: [\"\\u2705 Published \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: 'block',\n                  fontSize: 11,\n                  fontWeight: 400,\n                  color: 'var(--gray-500)'\n                },\n                children: \"Agents see immediately\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          padding: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontWeight: 700,\n              fontSize: 15\n            },\n            children: \"Select Agents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary btn-sm\",\n              onClick: () => setBulk(b => ({\n                ...b,\n                selected_users: users.map(u => u.id)\n              })),\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary btn-sm\",\n              onClick: () => setBulk(b => ({\n                ...b,\n                selected_users: []\n              })),\n              children: \"None\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxHeight: 400,\n            overflowY: 'auto'\n          },\n          children: Object.entries(agentsByDept).map(([dept, agents]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 11,\n                fontWeight: 700,\n                color: 'var(--gray-500)',\n                textTransform: 'uppercase',\n                letterSpacing: 1,\n                marginBottom: 6,\n                display: 'flex',\n                justifyContent: 'space-between'\n              },\n              children: [dept, /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  fontSize: 10,\n                  fontWeight: 600,\n                  color: 'var(--red)',\n                  background: 'none',\n                  border: 'none',\n                  cursor: 'pointer'\n                },\n                onClick: () => setBulk(b => ({\n                  ...b,\n                  selected_users: [...new Set([...b.selected_users, ...agents.map(u => u.id)])]\n                })),\n                children: \"Select all\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 19\n            }, this), agents.map(u => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => setBulk(b => ({\n                ...b,\n                selected_users: b.selected_users.includes(u.id) ? b.selected_users.filter(x => x !== u.id) : [...b.selected_users, u.id]\n              })),\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 10,\n                padding: '8px 10px',\n                borderRadius: 8,\n                cursor: 'pointer',\n                background: bulk.selected_users.includes(u.id) ? '#fef2f2' : 'transparent',\n                border: `1px solid ${bulk.selected_users.includes(u.id) ? 'var(--red)' : 'transparent'}`,\n                marginBottom: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: 22,\n                  height: 22,\n                  borderRadius: 4,\n                  border: `2px solid ${bulk.selected_users.includes(u.id) ? 'var(--red)' : 'var(--gray-300)'}`,\n                  background: bulk.selected_users.includes(u.id) ? 'var(--red)' : 'white',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                },\n                children: bulk.selected_users.includes(u.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'white',\n                    fontSize: 12\n                  },\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 64\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 23\n              }, this), u.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: u.avatar,\n                alt: \"\",\n                style: {\n                  width: 28,\n                  height: 28,\n                  borderRadius: '50%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 35\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: 28,\n                  height: 28,\n                  borderRadius: '50%',\n                  background: 'var(--gray-300)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: 12,\n                  fontWeight: 700\n                },\n                children: u.name[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: 13,\n                  fontWeight: 500\n                },\n                children: u.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 23\n              }, this)]\n            }, u.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 21\n            }, this))]\n          }, dept, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderTop: '1px solid var(--gray-200)',\n            paddingTop: 14,\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 13,\n              color: 'var(--gray-600)',\n              marginBottom: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: bulk.selected_users.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), \" agent\", bulk.selected_users.length !== 1 ? 's' : '', \" \\xB7 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: dates.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 110\n            }, this), \" date\", dates.length !== 1 ? 's' : '', \" = \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: bulk.selected_users.length * dates.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 174\n            }, this), \" shifts\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            style: {\n              width: '100%',\n              justifyContent: 'center'\n            },\n            onClick: handleBulkSubmit,\n            disabled: saving || !bulk.selected_users.length || !dates.length,\n            children: saving ? 'Creating...' : `${bulk.status === 'draft' ? 'Save as Draft' : 'Publish'} Shifts`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this), tab === 'templates' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          padding: 24,\n          marginBottom: 20,\n          maxWidth: 580\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontWeight: 700,\n            marginBottom: 16\n          },\n          children: \"Save New Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              gridColumn: '1/-1'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Template Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"e.g. Morning Shift, Night Shift...\",\n              value: tplForm.name,\n              onChange: e => setTplForm(f => ({\n                ...f,\n                name: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 78\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Start Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 20\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: tplForm.start_time,\n              onChange: e => setTplForm(f => ({\n                ...f,\n                start_time: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"End Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 20\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: tplForm.end_time,\n              onChange: e => setTplForm(f => ({\n                ...f,\n                end_time: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              gridColumn: '1/-1'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Department\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: tplForm.department,\n              onChange: e => setTplForm(f => ({\n                ...f,\n                department: e.target.value\n              })),\n              children: depts.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: d,\n                children: d\n              }, d, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              gridColumn: '1/-1'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Optional notes\",\n              value: tplForm.notes,\n              onChange: e => setTplForm(f => ({\n                ...f,\n                notes: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 70\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          style: {\n            marginTop: 16\n          },\n          onClick: handleSaveTemplate,\n          children: \"Save Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          overflow: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: '100%',\n            borderCollapse: 'collapse',\n            fontSize: 14\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                background: 'var(--gray-50)',\n                borderBottom: '2px solid var(--gray-200)'\n              },\n              children: ['Name', 'Time', 'Department', 'Notes', 'Actions'].map(h => /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '12px 16px',\n                  textAlign: 'left',\n                  fontSize: 12,\n                  fontWeight: 600,\n                  color: 'var(--gray-500)',\n                  textTransform: 'uppercase'\n                },\n                children: h\n              }, h, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 72\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [templates.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 5,\n                style: {\n                  padding: 40,\n                  textAlign: 'center',\n                  color: 'var(--gray-400)'\n                },\n                children: \"No templates yet \\u2014 save one above to reuse shifts quickly\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 42\n            }, this), templates.map(t => /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                borderBottom: '1px solid var(--gray-100)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px 16px',\n                  fontWeight: 600\n                },\n                children: t.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px 16px',\n                  fontFamily: 'DM Mono',\n                  fontSize: 13\n                },\n                children: [t.start_time, \" \\u2013 \", t.end_time]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px 16px'\n                },\n                children: t.department\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px 16px',\n                  color: 'var(--gray-500)'\n                },\n                children: t.notes || 'â€”'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: '12px 16px',\n                  display: 'flex',\n                  gap: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-secondary btn-sm\",\n                  onClick: () => {\n                    setTab('bulk');\n                    applyTemplate(t);\n                  },\n                  children: \"Use\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger btn-sm\",\n                  onClick: () => deleteTemplate(t.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this)]\n            }, t.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 35\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this), tab === 'view' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 12,\n          alignItems: 'center',\n          marginBottom: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary btn-sm\",\n          onClick: () => setViewMonth(m => addMonths(m, -1)),\n          children: \"\\u2190 Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            fontSize: 16\n          },\n          children: format(viewMonth, 'MMMM yyyy')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary btn-sm\",\n          onClick: () => setViewMonth(m => addMonths(m, 1)),\n          children: \"Next \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 13,\n            color: 'var(--gray-500)',\n            marginLeft: 8\n          },\n          children: [published.length, \" published \\xB7 \", drafts.length, \" draft\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          overflow: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: '100%',\n            borderCollapse: 'collapse',\n            fontSize: 13,\n            minWidth: 900\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                background: 'var(--gray-50)',\n                borderBottom: '2px solid var(--gray-200)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '10px 16px',\n                  textAlign: 'left',\n                  fontWeight: 600,\n                  fontSize: 12,\n                  color: 'var(--gray-500)',\n                  whiteSpace: 'nowrap'\n                },\n                children: \"Agent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this), shifts.length > 0 && [...new Set(shifts.map(s => s.date))].sort().slice(0, 31).map(date => /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: '6px 4px',\n                  textAlign: 'center',\n                  fontWeight: 600,\n                  fontSize: 10,\n                  color: 'var(--gray-500)',\n                  minWidth: 40\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: format(new Date(date + 'T00:00'), 'd')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: 400\n                  },\n                  children: format(new Date(date + 'T00:00'), 'EEE')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 23\n                }, this)]\n              }, date, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [users.map((u, i) => {\n              const uShifts = shifts.filter(s => s.user_id === u.id);\n              const dates = [...new Set(shifts.map(s => s.date))].sort().slice(0, 31);\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  borderBottom: '1px solid var(--gray-100)',\n                  background: i % 2 === 0 ? 'white' : 'var(--gray-50)'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: '8px 16px',\n                    fontWeight: 600,\n                    whiteSpace: 'nowrap'\n                  },\n                  children: u.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this), dates.map(date => {\n                  const dayShifts = uShifts.filter(s => s.date === date);\n                  return /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '4px 2px',\n                      textAlign: 'center',\n                      verticalAlign: 'middle'\n                    },\n                    children: dayShifts.map(s => /*#__PURE__*/_jsxDEV(\"div\", {\n                      title: `${s.start_time}-${s.end_time} ${s.department}`,\n                      style: {\n                        fontSize: 9,\n                        padding: '2px 4px',\n                        borderRadius: 3,\n                        background: s.status === 'draft' ? '#fcd34d' : 'var(--green)',\n                        color: s.status === 'draft' ? '#92400e' : 'white',\n                        marginBottom: 2,\n                        cursor: 'pointer',\n                        fontWeight: 600,\n                        lineHeight: 1.3\n                      },\n                      onClick: () => {\n                        if (s.status === 'draft' && window.confirm('Publish this shift?')) axios.post('/api/shifts/publish', {\n                          shift_ids: [s.id]\n                        }).then(fetchAll);\n                      },\n                      children: [s.start_time.slice(0, 5), s.status === 'draft' && /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \" \\uD83D\\uDCDD\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 301,\n                        columnNumber: 50\n                      }, this)]\n                    }, s.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 27\n                    }, this))\n                  }, date, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 30\n                  }, this);\n                })]\n              }, u.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 26\n              }, this);\n            }), users.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 32,\n                style: {\n                  padding: 40,\n                  textAlign: 'center',\n                  color: 'var(--gray-400)'\n                },\n                children: \"No agents yet. Add agents in Team Management.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 40\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          display: 'flex',\n          gap: 16,\n          fontSize: 13\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 14,\n              height: 14,\n              borderRadius: 3,\n              background: 'var(--green)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 73\n          }, this), \"Published (visible to agents)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 14,\n              height: 14,\n              borderRadius: 3,\n              background: '#fcd34d'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 73\n          }, this), \"Draft (manager only) \\u2014 click to publish\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n_s(ManageShifts, \"JLuwmUwWRT53FYU1sj+ffs0aw4A=\");\n_c = ManageShifts;\nvar _c;\n$RefreshReg$(_c, \"ManageShifts\");","map":{"version":3,"names":["React","useState","useEffect","axios","format","addDays","startOfMonth","endOfMonth","addMonths","eachDayOfInterval","startOfWeek","endOfWeek","getDay","jsxDEV","_jsxDEV","ManageShifts","_s","users","setUsers","shifts","setShifts","templates","setTemplates","depts","setDepts","viewMonth","setViewMonth","Date","tab","setTab","message","setMessage","text","type","bulk","setBulk","name","start_time","end_time","department","notes","status","selected_users","date_from","date_to","days_of_week","saving","setSaving","tplForm","setTplForm","selectedDrafts","setSelectedDrafts","DAYS","v","l","fetchAll","ur","tr","dr","depr","Promise","all","get","data","filter","u","user_type","active","map","d","n","msg","setTimeout","applyTemplate","tpl","b","generateDates","days","start","end","includes","handleBulkSubmit","length","dates","r","post","user_ids","created","e","_e$response","_e$response$data","response","error","handleSaveTemplate","deleteTemplate","id","window","confirm","delete","publishSelected","shift_ids","publishAll","deleteShift","drafts","s","published","agentsByDept","reduce","acc","push","children","className","style","display","justifyContent","alignItems","fileName","_jsxFileName","lineNumber","columnNumber","background","border","borderRadius","padding","marginBottom","color","fontSize","flexWrap","gap","onClick","borderBottom","t","cursor","fontFamily","fontWeight","gridTemplateColumns","marginTop","value","onChange","target","gridColumn","placeholder","x","borderColor","flex","maxHeight","overflowY","Object","entries","dept","agents","textTransform","letterSpacing","Set","width","height","avatar","src","alt","borderTop","paddingTop","disabled","maxWidth","f","overflow","borderCollapse","h","textAlign","colSpan","m","marginLeft","minWidth","whiteSpace","date","sort","slice","i","uShifts","user_id","dayShifts","verticalAlign","title","lineHeight","then","_c","$RefreshReg$"],"sources":["C:/Users/Ashwin Halford/Downloads/shiftmanager-v6.2/shiftmanager/frontend/src/pages/ManageShifts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { format, addDays, startOfMonth, endOfMonth, addMonths, eachDayOfInterval, startOfWeek, endOfWeek, getDay } from 'date-fns';\n\nexport default function ManageShifts() {\n  const [users, setUsers] = useState([]);\n  const [shifts, setShifts] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [depts, setDepts] = useState([]);\n  const [viewMonth, setViewMonth] = useState(new Date());\n  const [tab, setTab] = useState('bulk');\n  const [message, setMessage] = useState({ text:'', type:'success' });\n\n  // Bulk assign form\n  const [bulk, setBulk] = useState({ name:'', start_time:'07:00', end_time:'15:00', department:'CS', notes:'', status:'draft', selected_users:[], date_from:'', date_to:'', days_of_week:[1,2,3,4,5] });\n  const [saving, setSaving] = useState(false);\n\n  // Template form\n  const [tplForm, setTplForm] = useState({ name:'', start_time:'07:00', end_time:'15:00', department:'CS', notes:'' });\n\n  // Draft management\n  const [selectedDrafts, setSelectedDrafts] = useState([]);\n\n  const DAYS = [{v:0,l:'Sun'},{v:1,l:'Mon'},{v:2,l:'Tue'},{v:3,l:'Wed'},{v:4,l:'Thu'},{v:5,l:'Fri'},{v:6,l:'Sat'}];\n\n  useEffect(() => { fetchAll(); }, [viewMonth]);\n\n  const fetchAll = async () => {\n    const [ur, tr, dr, depr] = await Promise.all([\n      axios.get('/api/users'), axios.get('/api/templates'),\n      axios.get(`/api/shifts?start=${format(startOfMonth(viewMonth),'yyyy-MM-dd')}&end=${format(endOfMonth(viewMonth),'yyyy-MM-dd')}`),\n      axios.get('/api/departments'),\n    ]);\n    setUsers(ur.data.filter(u => u.user_type === 'agent' && u.active !== 0));\n    setTemplates(tr.data); setShifts(dr.data); setDepts(depr.data.map(d=>d.name).filter(n=>n!=='Management'));\n  };\n\n  const msg = (text, type='success') => { setMessage({text,type}); setTimeout(() => setMessage({text:'',type:'success'}), 4000); };\n\n  const applyTemplate = (tpl) => {\n    setBulk(b => ({...b, start_time:tpl.start_time, end_time:tpl.end_time, department:tpl.department, notes:tpl.notes||'', name:tpl.name}));\n  };\n\n  // Generate dates from range + day filter\n  const generateDates = () => {\n    if (!bulk.date_from || !bulk.date_to) return [];\n    const days = eachDayOfInterval({ start: new Date(bulk.date_from+'T00:00'), end: new Date(bulk.date_to+'T00:00') });\n    return days.filter(d => bulk.days_of_week.includes(getDay(d))).map(d => format(d,'yyyy-MM-dd'));\n  };\n\n  const handleBulkSubmit = async () => {\n    if (!bulk.selected_users.length) return msg('Select at least one agent','error');\n    const dates = generateDates();\n    if (!dates.length) return msg('No dates match your selection','error');\n    setSaving(true);\n    try {\n      const r = await axios.post('/api/shifts/bulk', { user_ids:bulk.selected_users, dates, start_time:bulk.start_time, end_time:bulk.end_time, department:bulk.department, notes:bulk.notes, status:bulk.status });\n      msg(`âœ“ Created ${r.data.created} shifts for ${bulk.selected_users.length} agent(s) across ${dates.length} day(s)${bulk.status==='draft'?' â€” saved as draft':''}!`);\n      setBulk(b => ({...b, selected_users:[]}));\n      fetchAll();\n    } catch(e) { msg(e.response?.data?.error||'Error','error'); }\n    setSaving(false);\n  };\n\n  const handleSaveTemplate = async () => {\n    if (!tplForm.name) return msg('Template name required','error');\n    await axios.post('/api/templates', tplForm);\n    setTplForm({name:'',start_time:'07:00',end_time:'15:00',department:'CS',notes:''});\n    fetchAll(); msg('Template saved!');\n  };\n\n  const deleteTemplate = async (id) => {\n    if (!window.confirm('Delete this template?')) return;\n    await axios.delete(`/api/templates/${id}`); fetchAll();\n  };\n\n  const publishSelected = async () => {\n    await axios.post('/api/shifts/publish', { shift_ids: selectedDrafts });\n    setSelectedDrafts([]); fetchAll(); msg(`Published ${selectedDrafts.length} shifts!`);\n  };\n\n  const publishAll = async () => {\n    if (!window.confirm('Publish ALL draft shifts? Agents will be able to see them.')) return;\n    await axios.post('/api/shifts/publish-all');\n    setSelectedDrafts([]); fetchAll(); msg('All drafts published!');\n  };\n\n  const deleteShift = async (id) => {\n    await axios.delete(`/api/shifts/${id}`); fetchAll();\n  };\n\n  const dates = generateDates();\n  const drafts = shifts.filter(s => s.status === 'draft');\n  const published = shifts.filter(s => s.status === 'published');\n  const agentsByDept = users.reduce((acc, u) => { if (!acc[u.department]) acc[u.department]=[]; acc[u.department].push(u); return acc; }, {});\n\n  return (\n    <div>\n      <div className=\"page-header\" style={{ display:'flex', justifyContent:'space-between', alignItems:'flex-start' }}>\n        <div><h1>Manage Shifts</h1><p>Build shifts, assign to agents, publish when ready</p></div>\n      </div>\n\n      {message.text && <div style={{ background: message.type==='error'?'#fef2f2':'#d4edda', border:`1px solid ${message.type==='error'?'#fca5a5':'#c3e6cb'}`, borderRadius:8, padding:'10px 16px', marginBottom:20, color: message.type==='error'?'#dc2626':'#155724', fontSize:14 }}>{message.text}</div>}\n\n      {/* Draft banner */}\n      {drafts.length > 0 && (\n        <div style={{ background:'#fffbeb', border:'1px solid #fcd34d', borderRadius:10, padding:'14px 20px', marginBottom:24, display:'flex', alignItems:'center', justifyContent:'space-between', flexWrap:'wrap', gap:12 }}>\n          <div><strong>ðŸ“ {drafts.length} draft shift{drafts.length>1?'s':''}</strong> <span style={{ color:'var(--gray-600)', fontSize:13 }}>â€” agents cannot see these yet</span></div>\n          <div style={{ display:'flex', gap:10 }}>\n            {selectedDrafts.length > 0 && <button className=\"btn btn-primary btn-sm\" onClick={publishSelected}>Publish Selected ({selectedDrafts.length})</button>}\n            <button className=\"btn btn-success btn-sm\" onClick={publishAll}>Publish All Drafts</button>\n          </div>\n        </div>\n      )}\n\n      {/* Tabs */}\n      <div style={{ display:'flex', gap:4, marginBottom:24, borderBottom:'2px solid var(--gray-200)' }}>\n        {[{id:'bulk',l:'ðŸ“‹ Assign Shifts'},{id:'templates',l:'ðŸ—‚ Templates'},{id:'view',l:'ðŸ“… Monthly View'}].map(t =>\n          <button key={t.id} onClick={()=>setTab(t.id)} style={{ padding:'10px 20px', border:'none', background:'none', cursor:'pointer', fontFamily:'inherit', fontSize:14, fontWeight:600, color:tab===t.id?'var(--red)':'var(--gray-500)', borderBottom:tab===t.id?'2px solid var(--red)':'2px solid transparent', marginBottom:-2 }}>{t.l}</button>\n        )}\n      </div>\n\n      {/* â”€â”€ BULK ASSIGN TAB â”€â”€ */}\n      {tab === 'bulk' && (\n        <div className=\"fade-in\" style={{ display:'grid', gridTemplateColumns:'1fr 340px', gap:20, alignItems:'start' }}>\n          <div className=\"card\" style={{ padding:28 }}>\n            <h2 style={{ fontSize:17, fontWeight:700, marginBottom:20 }}>Shift Details</h2>\n\n            {/* Quick apply from template */}\n            {templates.length > 0 && <div style={{ marginBottom:20 }}>\n              <label>Quick Apply from Template</label>\n              <div style={{ display:'flex', gap:8, flexWrap:'wrap', marginTop:6 }}>\n                {templates.map(t => <button key={t.id} className=\"btn btn-secondary btn-sm\" onClick={() => applyTemplate(t)}>{t.name}</button>)}\n              </div>\n            </div>}\n\n            <div style={{ display:'grid', gridTemplateColumns:'1fr 1fr', gap:14 }}>\n              <div><label>Start Time</label><input type=\"time\" value={bulk.start_time} onChange={e=>setBulk(b=>({...b,start_time:e.target.value}))} /></div>\n              <div><label>End Time</label><input type=\"time\" value={bulk.end_time} onChange={e=>setBulk(b=>({...b,end_time:e.target.value}))} /></div>\n              <div style={{ gridColumn:'1/-1' }}><label>Department</label>\n                <select value={bulk.department} onChange={e=>setBulk(b=>({...b,department:e.target.value}))}>\n                  {depts.map(d=><option key={d} value={d}>{d}</option>)}\n                </select></div>\n              <div style={{ gridColumn:'1/-1' }}><label>Notes (optional)</label><input placeholder=\"e.g. Public holiday cover\" value={bulk.notes} onChange={e=>setBulk(b=>({...b,notes:e.target.value}))} /></div>\n            </div>\n\n            <div style={{ marginTop:20 }}>\n              <label>Date Range</label>\n              <div style={{ display:'grid', gridTemplateColumns:'1fr 1fr', gap:12, marginTop:6 }}>\n                <div><label style={{ fontSize:11 }}>From</label><input type=\"date\" value={bulk.date_from} onChange={e=>setBulk(b=>({...b,date_from:e.target.value}))} /></div>\n                <div><label style={{ fontSize:11 }}>To</label><input type=\"date\" value={bulk.date_to} onChange={e=>setBulk(b=>({...b,date_to:e.target.value}))} /></div>\n              </div>\n            </div>\n\n            <div style={{ marginTop:16 }}>\n              <label>Days of Week</label>\n              <div style={{ display:'flex', gap:8, marginTop:6 }}>\n                {DAYS.map(d => <button key={d.v} onClick={() => setBulk(b => ({ ...b, days_of_week: b.days_of_week.includes(d.v) ? b.days_of_week.filter(x=>x!==d.v) : [...b.days_of_week,d.v] }))} style={{ padding:'6px 10px', borderRadius:6, border:'1.5px solid', borderColor: bulk.days_of_week.includes(d.v)?'var(--red)':'var(--gray-300)', background: bulk.days_of_week.includes(d.v)?'var(--red)':'white', color: bulk.days_of_week.includes(d.v)?'white':'var(--gray-700)', fontSize:12, fontWeight:600, cursor:'pointer' }}>{d.l}</button>)}\n              </div>\n            </div>\n\n            {dates.length > 0 && <div style={{ marginTop:12, padding:'8px 14px', background:'var(--gray-50)', borderRadius:8, fontSize:13, color:'var(--gray-600)' }}>\n              ðŸ“… <strong>{dates.length} dates</strong> selected ({dates[0]} â†’ {dates[dates.length-1]})\n            </div>}\n\n            <div style={{ marginTop:16 }}>\n              <label>Save As</label>\n              <div style={{ display:'flex', gap:10, marginTop:6 }}>\n                <button onClick={()=>setBulk(b=>({...b,status:'draft'}))} style={{ flex:1, padding:'10px', borderRadius:8, border:'1.5px solid', borderColor:bulk.status==='draft'?'var(--red)':'var(--gray-300)', background:bulk.status==='draft'?'#fef2f2':'white', fontFamily:'inherit', fontSize:13, fontWeight:600, cursor:'pointer', color:bulk.status==='draft'?'var(--red)':'var(--gray-600)' }}>\n                  ðŸ“ Draft <span style={{ display:'block', fontSize:11, fontWeight:400, color:'var(--gray-500)' }}>Only you can see it</span>\n                </button>\n                <button onClick={()=>setBulk(b=>({...b,status:'published'}))} style={{ flex:1, padding:'10px', borderRadius:8, border:'1.5px solid', borderColor:bulk.status==='published'?'var(--green)':'var(--gray-300)', background:bulk.status==='published'?'#d4edda':'white', fontFamily:'inherit', fontSize:13, fontWeight:600, cursor:'pointer', color:bulk.status==='published'?'var(--green)':'var(--gray-600)' }}>\n                  âœ… Published <span style={{ display:'block', fontSize:11, fontWeight:400, color:'var(--gray-500)' }}>Agents see immediately</span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Agent selector */}\n          <div className=\"card\" style={{ padding:20 }}>\n            <div style={{ display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom:12 }}>\n              <h3 style={{ fontWeight:700, fontSize:15 }}>Select Agents</h3>\n              <div style={{ display:'flex', gap:6 }}>\n                <button className=\"btn btn-secondary btn-sm\" onClick={()=>setBulk(b=>({...b,selected_users:users.map(u=>u.id)}))}>All</button>\n                <button className=\"btn btn-secondary btn-sm\" onClick={()=>setBulk(b=>({...b,selected_users:[]}))}>None</button>\n              </div>\n            </div>\n            <div style={{ maxHeight:400, overflowY:'auto' }}>\n              {Object.entries(agentsByDept).map(([dept, agents]) => (\n                <div key={dept} style={{ marginBottom:12 }}>\n                  <div style={{ fontSize:11, fontWeight:700, color:'var(--gray-500)', textTransform:'uppercase', letterSpacing:1, marginBottom:6, display:'flex', justifyContent:'space-between' }}>\n                    {dept}\n                    <button style={{ fontSize:10, fontWeight:600, color:'var(--red)', background:'none', border:'none', cursor:'pointer' }} onClick={()=>setBulk(b=>({...b,selected_users:[...new Set([...b.selected_users,...agents.map(u=>u.id)])]}))}>Select all</button>\n                  </div>\n                  {agents.map(u => (\n                    <div key={u.id} onClick={()=>setBulk(b=>({...b,selected_users:b.selected_users.includes(u.id)?b.selected_users.filter(x=>x!==u.id):[...b.selected_users,u.id]}))}\n                      style={{ display:'flex', alignItems:'center', gap:10, padding:'8px 10px', borderRadius:8, cursor:'pointer', background:bulk.selected_users.includes(u.id)?'#fef2f2':'transparent', border:`1px solid ${bulk.selected_users.includes(u.id)?'var(--red)':'transparent'}`, marginBottom:4 }}>\n                      <div style={{ width:22, height:22, borderRadius:4, border:`2px solid ${bulk.selected_users.includes(u.id)?'var(--red)':'var(--gray-300)'}`, background:bulk.selected_users.includes(u.id)?'var(--red)':'white', display:'flex', alignItems:'center', justifyContent:'center' }}>\n                        {bulk.selected_users.includes(u.id) && <span style={{ color:'white', fontSize:12 }}>âœ“</span>}\n                      </div>\n                      {u.avatar ? <img src={u.avatar} alt=\"\" style={{ width:28, height:28, borderRadius:'50%' }} />\n                        : <div style={{ width:28, height:28, borderRadius:'50%', background:'var(--gray-300)', display:'flex', alignItems:'center', justifyContent:'center', fontSize:12, fontWeight:700 }}>{u.name[0]}</div>}\n                      <span style={{ fontSize:13, fontWeight:500 }}>{u.name}</span>\n                    </div>\n                  ))}\n                </div>\n              ))}\n            </div>\n            <div style={{ borderTop:'1px solid var(--gray-200)', paddingTop:14, marginTop:8 }}>\n              <div style={{ fontSize:13, color:'var(--gray-600)', marginBottom:10 }}>\n                <strong>{bulk.selected_users.length}</strong> agent{bulk.selected_users.length!==1?'s':''} Â· <strong>{dates.length}</strong> date{dates.length!==1?'s':''} = <strong>{bulk.selected_users.length*dates.length}</strong> shifts\n              </div>\n              <button className=\"btn btn-primary\" style={{ width:'100%', justifyContent:'center' }} onClick={handleBulkSubmit} disabled={saving||!bulk.selected_users.length||!dates.length}>\n                {saving ? 'Creating...' : `${bulk.status==='draft'?'Save as Draft':'Publish'} Shifts`}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* â”€â”€ TEMPLATES TAB â”€â”€ */}\n      {tab === 'templates' && (\n        <div className=\"fade-in\">\n          <div className=\"card\" style={{ padding:24, marginBottom:20, maxWidth:580 }}>\n            <h3 style={{ fontWeight:700, marginBottom:16 }}>Save New Template</h3>\n            <div style={{ display:'grid', gridTemplateColumns:'1fr 1fr', gap:12 }}>\n              <div style={{ gridColumn:'1/-1' }}><label>Template Name</label><input placeholder=\"e.g. Morning Shift, Night Shift...\" value={tplForm.name} onChange={e=>setTplForm(f=>({...f,name:e.target.value}))} /></div>\n              <div><label>Start Time</label><input type=\"time\" value={tplForm.start_time} onChange={e=>setTplForm(f=>({...f,start_time:e.target.value}))} /></div>\n              <div><label>End Time</label><input type=\"time\" value={tplForm.end_time} onChange={e=>setTplForm(f=>({...f,end_time:e.target.value}))} /></div>\n              <div style={{ gridColumn:'1/-1' }}><label>Department</label>\n                <select value={tplForm.department} onChange={e=>setTplForm(f=>({...f,department:e.target.value}))}>\n                  {depts.map(d=><option key={d} value={d}>{d}</option>)}\n                </select></div>\n              <div style={{ gridColumn:'1/-1' }}><label>Notes</label><input placeholder=\"Optional notes\" value={tplForm.notes} onChange={e=>setTplForm(f=>({...f,notes:e.target.value}))} /></div>\n            </div>\n            <button className=\"btn btn-primary\" style={{ marginTop:16 }} onClick={handleSaveTemplate}>Save Template</button>\n          </div>\n\n          <div className=\"card\" style={{ overflow:'auto' }}>\n            <table style={{ width:'100%', borderCollapse:'collapse', fontSize:14 }}>\n              <thead><tr style={{ background:'var(--gray-50)', borderBottom:'2px solid var(--gray-200)' }}>\n                {['Name','Time','Department','Notes','Actions'].map(h=><th key={h} style={{ padding:'12px 16px', textAlign:'left', fontSize:12, fontWeight:600, color:'var(--gray-500)', textTransform:'uppercase' }}>{h}</th>)}\n              </tr></thead>\n              <tbody>\n                {templates.length===0 && <tr><td colSpan={5} style={{ padding:40, textAlign:'center', color:'var(--gray-400)' }}>No templates yet â€” save one above to reuse shifts quickly</td></tr>}\n                {templates.map(t=><tr key={t.id} style={{ borderBottom:'1px solid var(--gray-100)' }}>\n                  <td style={{ padding:'12px 16px', fontWeight:600 }}>{t.name}</td>\n                  <td style={{ padding:'12px 16px', fontFamily:'DM Mono', fontSize:13 }}>{t.start_time} â€“ {t.end_time}</td>\n                  <td style={{ padding:'12px 16px' }}>{t.department}</td>\n                  <td style={{ padding:'12px 16px', color:'var(--gray-500)' }}>{t.notes||'â€”'}</td>\n                  <td style={{ padding:'12px 16px', display:'flex', gap:6 }}>\n                    <button className=\"btn btn-secondary btn-sm\" onClick={()=>{setTab('bulk');applyTemplate(t);}}>Use</button>\n                    <button className=\"btn btn-danger btn-sm\" onClick={()=>deleteTemplate(t.id)}>Delete</button>\n                  </td>\n                </tr>)}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* â”€â”€ MONTHLY VIEW TAB â”€â”€ */}\n      {tab === 'view' && (\n        <div className=\"fade-in\">\n          <div style={{ display:'flex', gap:12, alignItems:'center', marginBottom:20 }}>\n            <button className=\"btn btn-secondary btn-sm\" onClick={()=>setViewMonth(m=>addMonths(m,-1))}>â† Prev</button>\n            <strong style={{ fontSize:16 }}>{format(viewMonth,'MMMM yyyy')}</strong>\n            <button className=\"btn btn-secondary btn-sm\" onClick={()=>setViewMonth(m=>addMonths(m,1))}>Next â†’</button>\n            <span style={{ fontSize:13, color:'var(--gray-500)', marginLeft:8 }}>\n              {published.length} published Â· {drafts.length} draft\n            </span>\n          </div>\n\n          <div className=\"card\" style={{ overflow:'auto' }}>\n            <table style={{ width:'100%', borderCollapse:'collapse', fontSize:13, minWidth:900 }}>\n              <thead>\n                <tr style={{ background:'var(--gray-50)', borderBottom:'2px solid var(--gray-200)' }}>\n                  <th style={{ padding:'10px 16px', textAlign:'left', fontWeight:600, fontSize:12, color:'var(--gray-500)', whiteSpace:'nowrap' }}>Agent</th>\n                  {shifts.length>0 && [...new Set(shifts.map(s=>s.date))].sort().slice(0,31).map(date=>(\n                    <th key={date} style={{ padding:'6px 4px', textAlign:'center', fontWeight:600, fontSize:10, color:'var(--gray-500)', minWidth:40 }}>\n                      <div>{format(new Date(date+'T00:00'),'d')}</div>\n                      <div style={{ fontWeight:400 }}>{format(new Date(date+'T00:00'),'EEE')}</div>\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {users.map((u,i)=>{\n                  const uShifts = shifts.filter(s=>s.user_id===u.id);\n                  const dates = [...new Set(shifts.map(s=>s.date))].sort().slice(0,31);\n                  return <tr key={u.id} style={{ borderBottom:'1px solid var(--gray-100)', background:i%2===0?'white':'var(--gray-50)' }}>\n                    <td style={{ padding:'8px 16px', fontWeight:600, whiteSpace:'nowrap' }}>{u.name}</td>\n                    {dates.map(date=>{\n                      const dayShifts = uShifts.filter(s=>s.date===date);\n                      return <td key={date} style={{ padding:'4px 2px', textAlign:'center', verticalAlign:'middle' }}>\n                        {dayShifts.map(s=>(\n                          <div key={s.id} title={`${s.start_time}-${s.end_time} ${s.department}`}\n                            style={{ fontSize:9, padding:'2px 4px', borderRadius:3, background:s.status==='draft'?'#fcd34d':'var(--green)', color:s.status==='draft'?'#92400e':'white', marginBottom:2, cursor:'pointer', fontWeight:600, lineHeight:1.3 }}\n                            onClick={()=>{if(s.status==='draft'&&window.confirm('Publish this shift?'))axios.post('/api/shifts/publish',{shift_ids:[s.id]}).then(fetchAll);}}>\n                            {s.start_time.slice(0,5)}\n                            {s.status==='draft'&&<span> ðŸ“</span>}\n                          </div>\n                        ))}\n                      </td>;\n                    })}\n                  </tr>;\n                })}\n                {users.length===0&&<tr><td colSpan={32} style={{ padding:40, textAlign:'center', color:'var(--gray-400)' }}>No agents yet. Add agents in Team Management.</td></tr>}\n              </tbody>\n            </table>\n          </div>\n          <div style={{ marginTop:12, display:'flex', gap:16, fontSize:13 }}>\n            <div style={{ display:'flex', alignItems:'center', gap:6 }}><div style={{ width:14, height:14, borderRadius:3, background:'var(--green)' }}/>Published (visible to agents)</div>\n            <div style={{ display:'flex', alignItems:'center', gap:6 }}><div style={{ width:14, height:14, borderRadius:3, background:'#fcd34d' }}/>Draft (manager only) â€” click to publish</div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}